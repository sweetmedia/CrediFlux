{% extends "admin/constance/change_list.html" %}
{% load i18n static %}

{% block content %}
    {{ block.super }}

    {% if show_rnc_update_button %}
    <div style="margin: 20px 0; padding: 20px; background: #f8f9fa; border-radius: 8px; border-left: 4px solid #2563eb;">
        <h3 style="margin-top: 0; color: #1e293b;">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="vertical-align: middle; margin-right: 8px;">
                <path d="M21 12a9 9 0 1 1-6.219-8.56"></path>
            </svg>
            Base de Datos DGII RNC
        </h3>
        <p style="color: #64748b; margin-bottom: 15px;">
            Actualiza la base de datos de RNC/Cédulas desde la Dirección General de Impuestos Internos (DGII).
            {% if rnc_enabled %}
            <span style="color: #16a34a; font-weight: 600;">✓ Habilitado</span>
            {% else %}
            <span style="color: #dc2626; font-weight: 600;">✗ Deshabilitado</span>
            {% endif %}
        </p>

        <a href="{% url 'admin:constance_update_rnc_database' %}"
           class="button"
           style="background: #2563eb; color: white; padding: 10px 20px; text-decoration: none; border-radius: 6px; display: inline-block; font-weight: 500; transition: background 0.2s;"
           onmouseover="this.style.background='#1d4ed8'"
           onmouseout="this.style.background='#2563eb'">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="vertical-align: middle; margin-right: 6px;">
                <path d="M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path>
                <path d="M3 3v5h5"></path>
                <path d="M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16"></path>
                <path d="M16 16h5v5"></path>
            </svg>
            Actualizar Base de Datos RNC
        </a>

        <div style="margin-top: 15px; font-size: 13px; color: #64748b;">
            <strong>Nota:</strong> La actualización puede tardar varios minutos. La base de datos contiene más de 750,000 registros de contribuyentes dominicanos.
        </div>
    </div>
    {% endif %}
{% endblock %}
